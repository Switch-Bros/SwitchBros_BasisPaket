{
  "title": "MissionControl",
  "author": "ndeadly",
  "category": "tool",
  "version": "0.10.0",
  "url": "https://github.com/ndeadly/MissionControl/releases",
  "license": "GPLv2",
  "description": "Use controllers from other consoles",
  "details": "Notice: It has been confirmed that the new Xbox Insiders controller firmware update will convert your controller to use Bluetooth LE, which is not currently supported. Please do not update if you wish to continue using your controller with Mission Control\\n\\nUse controllers from other consoles natively on your Nintendo Switch via Bluetooth. No dongles or other external hardware neccessary.\\n\\nFeatures\\nSupports all firmware versions\\nPair Bluetooth controllers natively via Change Grip/Order screen\\nNative button remapping (firmware 10.0.0+)\\nbtdrv-mitm module adds extension IPC commands that can be used to interact with the bluetooth process without interfering with the state of the system.\\nSupported Controllers\\nCurrently, the following controllers are supported. If you have a third-party variant of one of the below, or a Bluetooth controller that isn't listed, consider submitting an issue with the controller details, including vid/pid, to request support.\\n\\nNintendo Wii Remote + extensions (Nunchuck, Classic Controller, Classic Controller Pro, SNES Mini, TaTaCon (Taiko drum), MotionPlus)\\nNintendo Wii Balance Board (experimental)\\nNintendo WiiU Pro Controller\\nSony Dualshock3 (Playstation 3) Controller\\nSony DualShock4 (Playstation 4) Controller\\nSony Dualsense (Playstation 5) Controller\\nSony Dualsense Edge Controller\\nMicrosoft Xbox One S/X Controller (not to be confused with Series S/X controllers - these use Bluetooth LE, which isn't currently supported)*\\nMicrosoft Xbox Elite Wireless Controller Series 2\\nNVidia Shield Controller (2017 Model)\\nOuya Controller\\nGamestick Controller\\nGembox Controller\\niCade Controller\\nIpega Controllers (7197, 9017s, 9023, 9055, 9062S, 9076, 9078, 9087, 9096 confirmed working. Others may also work)\\ng910 Wireless Bluetooth Controller\\nXiaomi Mi Controller\\nSteelseries Free\\nSteelseries Nimbus\\nSteelseries Stratus Duo\\nGameSir G3s\\nGameSir G4s\\nGameSir T1s\\nGameSir T2a\\nHori Onyx\\n8bitDo SN30 Pro Xbox Cloud Gaming Edition\\n8BitDo ZERO (Most other 8BitDo controllers have a Switch mode available. May require firmware update)\\nPowerA Moga Hero\\nPowerA Moga Pro\\nPowerA Moga Pro 2\\nMad-Catz C.T.R.L.R\\nMad-Catz L.Y.N.X 3\\nRazer Raiju Tournament\\nRazer Raiju Ultimate\\nRazer Serval\\nMocute 050\\nMocute 053\\nGen Game S3\\nAtGames Legends Pinball Controller + Arcade Control Panel\\nHyperkin Scout\\n\\nRequirements\\nHackable Nintendo Switch running at least version 0.14.2 of Atmosphère custom firmware. Other custom firmwares are not supported.\\nCompatible Bluetooth controller\\nInstallation\\nAfter installation a console reboot is required in order for MissionControl to become active.\\n\\nIt is recommended after rebooting to also disconnect any physically connected controllers from the console, delete the pairing database, and re-pair via bluetooth to make sure your existing Switch controllers have the correct hardware ID stored and can be recognised properly. To delete the database, navigate to System Settings->Controllers and Sensors->Disconnect Controllers\\n\\nUsage\\nInstall MissionControl to your SD card, reboot the console and then pair controllers as you normally would via the Controllers->Change Grip/Order screen. Once paired, controllers will reconnect automatically when woken up.\\n\\nMost native features should just work (with the exception of things like firmware update). If you find something that's broken please create an issue.\\n\\nPairing controllers\\nThe supported controllers each have their own methods to enter pairing/sync mode. Below are instructions on entering this mode for each supported type.\\n\\nWii(U) Controllers Press the red sync button on the back of the controller. The controller LEDs will blink rapidly.\\n\\nDualshock4 Controllers Press and hold the PS + share buttons simultaneously until the lightbar starts blinking. When done correctly the blink pattern will resemble a heartbeat, otherwise it will blink periodically.\\n\\nXbox One Controllers Press and hold the guide(X) button until the LED starts blinking. Then press and hold the small sync button on the back near the charging port until the LED starts blinking more rapidly. You should also ensure your controller firmware is up to date, as old firmwares were known to have flakey bluetooth.\\n\\nOther Controllers Please refer to your controller's user manual for information on how to put it in sync mode.\\n\\nHow it works\\nMissionControl works by Man-In-The-Middling the bluetooth system module and intercepting its initialisation IPC commands and system events, and translating incoming/outgoing data to convince the Switch that it's communicating with an official Pro Controller.\\n\\nTo achieve this, the btdrv-mitm module obtains the handles to bluetooth system events and shared memory when the system attempts to initialise them over IPC via the btm and hid modules. It then creates its own secondary versions of these and passes their handles on instead of the original. This allows modifications to be made to any data buffers before notifying (or not) the system. Additionally, the WriteHidData IPC command is intercepted to translate or drop outgoing requests to the controller. In the case of the latter, fake responses can be written directly to the buffer in shared memory.\\n\\nIntercepting initialisation IPC commands also allows homebrew to properly make use of the bluetooth service. Normally, calling any of the IPC commands that would initialise or finalise system events would either crash the console, or invalidate the event handles held by system processes. With btdrv-mitm we are able to hand out alternative event handles when homebrew attempts to initialise an interface, and redirect the real system events to those instead of the events held by system processes.\\n\\nIPS patches to the bluetooth module are provided to (re)enable the passing of abitrary pincodes when Bluetooth legacy pairing is used (Nintendo hardcodes a value of '0000', ignoring IPC arguments). This enables Wii(U) devices to be paired with the console.\\n\\nThe btm service is now also MITM'd, allowing for faking controller names on the fly while retaining the original names in the pairing database.",
  "changelog": "0.10.0\\n\\nAdded full support for firmware 17.0.0.\\nAdded support for Atari Modern Wireless Controller.\\nMapped 8BitDo Zero D-pad as left analog stick to improve game compatibility.\\nRemoved unnecessary gyro scaling factor for Sony controllers. Controller rotations should now be more sensitive/accurate.\\nFixed an issue where capture button state wasn't being reset after Dualshock 4 touchpad button released.\\n\\n0.9.4\\n\\nFixed a bug in the exefs patches for 16.1.0 that caused the system to get stuck in an infinite loop and freeze when pairing new controllers not already in the bluetooth pairing database\\nCheck vendor/product ID in addition to name when identifying official Switch controllers\\n\\n0.9.3\\n\\nAdded support for Steelseries Stratus XL controller\\nAdded support for 8BitDo Ultimate 2.4G Wireless Controller\\nAdded support for Betop 2585N2 controller\\nAdded .ini config option for setting the analog trigger activation threshold\\nAdded new \"hybrid\" mode to .ini settings for Dualshock 3 player indicator LEDs to display the Switch LED pattern, but reversed to align with the numbers printed on the controller\\nChanged behaviour of Dualshock 4/Dualsense touchpad so that the outer edges are mapped to +/- in order to prevent accidental screenshots being taken when pressing those buttons\\nDualsense mute button is now additionally mapped as capture button\\nUpdated list of official controller names to include a new name introduced in HOS 15.0.0. This fixes an issue where some newer PowerA licensed Switch controllers don't register inputs with Mission Control running.\\nFixed a bug that could cause the console to spam commands when trying to set the player indicator LEDs to flash\\n\\n0.9.2\\n\\nModified the usb interface filter used in Dualshock 3 pairing so as not to clash with the default filter used by the hid module\\nFixed an issue where the system would crash when attempting to pair a Dualshock 3 controller when the Bluetooth pairing database contains the maximum number of paired hid devices.\\n\\n0.9.1\\n\\nAdded support for Sony Dualshock 3 controller.\\nAdded support for Mocute 053 controller.\\nAdded .ini config option to select preferred Dualshock 3 player LED pattern.\\nAdded .ini config option to control the polling rate used by Dualshock 4 controllers.\\nReplaced .ini config option for enabling/disabling the LED lightbar on Sony controllers with a brightness control setting.\\nRenamed some of the other .ini config options.\\nWiimote dpad is now mapped to the left analog stick when in horizontal orientation to improve compatibility with games that don't allow dpad inputs for movement.\\n\\n0.9.0\\n\\nUpdated libraries for 16.0.0 support.\\nAdded bluetooth exefs patches for 16.0.0.\\nAdded support for Sony Dualsense Edge controller.\\nAdded support for Razer Raiju Ultimate controller.\\nAdded support for Mad Catz L.Y.N.X 3 controller.\\nAdded support for AtGames Legends Pinball Arcade Control Panel extension. (Thanks @SK360)\\nAdded exefs patches for btm module to skip calls to CloseHidConnection when a controller doesn't respond properly to the SetTsi vendor command. This eliminates the need to manually flag certain controllers with the settsi_disable.flag file to stop them from being disconnected.\\nDisabled incorrect handling of incoming NFC requests that caused games like Splatoon and Smash Bros to freeze or experience audio glitches when the game attempts to access amiibo data.\\nFixed regression in input handing for Wii Classic Controller/Classic Controller Pro extensions causing certain buttons not to be mapped.\\nFixed cross-platform building from source. (Thanks @cadewey) \\n\\n0.8.0\\n\\nThis is the sixteenth official release of Mission Control.\\n\\nThis is purely a compatibility release to support the newly released 15.0.0 firmware, since I pushed all my recent changes out with the 0.7.1 release last week.\\n\\nPlease note that this is a pre-release intended to allow people to continue using the module on 15.0.0 while I finalise support for it. It should be stable (though please report any issues if you encounter them), but is missing the patches to the bluetooth module for 15.0.0 that enable new Wii and Xbox Elite 2 controllers to be paired. It is otherwise fully functional.\\n\\n0.7.1\\n\\nThis is the fifteenth official release of Mission Control.\\n\\nThis is mostly a bugfix release to push out all of the fixes and improvements that I've been sitting on over the past 6 months. Several improvements and some new configuration options were added for Sony controllers, and experimental Wii Balance Board support mapping center of mass values to left analog stick was added. See below for the full changelog.\\n\\nNew users landing on this release page should first check out the readme on the main project page for the official project documentation. There you can find installation and usage instructions along with an FAQ section that will answer most of your questions.\\n\\nNew configuration options\\nThe following additional/modified settings are now available under this [misc] section of the config .ini file.\\n\\nenable_dualshock4_lightbar Enable/disable the coloured LED lightbar on Sony Dualshock4 controllers.\\nenable_dualsense_lightbar Enable/disable the coloured LED lightbar on Sony Dualsense controllers.\\nenable_dualsense_player_leds Enable/disable the white player indicator LEDs below the Dualsense touchpad.\\ndualsense_vibration_intensity Set Dualsense vibration intensity, 12.5% per increment. Valid range [1-8] where 1=12.5%, 8=100%.\\nPlease note that the disable_sony_leds setting no longer exists, and has been replaced by enable_dualshock4_lightbar and enable_dualsense_lightbar (with inverted logic). If you have been using this setting to date, you will need to update your missioncontrol.ini file accordingly.\\n\\nSee here for full instructions on configuring the sysmodule via the .ini file\\n\\nChangelog:\\nAdded experimental support for Wii Balance Board.\\nAdded support for 8bitdo SN30 Pro Xbox Cloud Gaming controller running firmware 2.XX.\\nAdded mc IPC service for future sysmodule interaction.\\nAdded config option to disable Dualsense player LEDs.\\nAdded config option to set Dualsense vibration intensity.\\nSplit config option for disabling LED lightbar on sony controllers into separate settings for Dualshock4 and Dualsense.\\nInverted logic for controller config options to match other boolean settings.\\nFixed Dualsense player LEDs for controllers updated to newer firmware versions.\\nDisabled fade-in effect for Dualsense player LEDs.\\nLowered default vibration intensity for Dualsense controllers to 50%. This should address user complaints of the vibration being too strong and getting picked up by the motion sensors in certain games.\\nFixed a regression in Wii extension controller detection that caused WiiU Pro controllers to be incorrectly identified.\\nWii MotionPlus extension is no longer initialised if motion controls have been disabled in module settings.\\nWiimote buttons 1/2 now act as L3/R3 when a Classic Controller/ Classic Controller Pro extension is connected.\\nTweaked battery level mapping for Sony controllers. Should hopefully reduce instances of controllers with low battery being immediately disconnected without warning.\\nAdded mutex locks around some sensitive buffer accesses. May improve reliability when pairing controllers.\\nUpdated npdm json to eliminate warnings when building from source.\\n\\n0.7.0\\n\\nThis is the fourteenth official release of Mission Control.\\n\\nThis adds full support for HOS 14.1.0, motion controls for Dualshock4, Dualsense and Wii MotionPlus* controllers, and support for the g910 Wireless Bluetooth controller. See below for the full changelog.\\n\\n*Note: regular Wiimote controllers without the MotionPlus extension may work in some games, but only come equiped with an accelerometer and lack the gyroscope sensor required for full \"sixaxis\" motion controls.\\n\\n- Added bluetooth ips patches for 14.0.0.\\n- Added support for g910 wireless bluetooth controller.\\n- Support for motion controls was added for Dualshock4, Dualsense, and Wii MotionPlus controllers.\\n- Wii controller handling was refactored for accuracy and completeness.\\n- Added mechanisms for executing code in a worker thread and receiving asynchronous responses from controllers.\\n- Minor bugfixes and improvements\\n\\n0.6.4\\n\\nThis is the thirteenth official release of Mission Control.\\n\\nAdded bluetooth ips patches for 13.2.1.\\nFixed incorrect mapping of A/B buttons on Hyperkin Scout controller.\\nFixed disconnection issues affecting Xiami Mi, Steelseries Free and PowerA Moga controllers.\\nFixed a regression that caused the enable_rumble setting in the module config ini file to have no effect.\\nFixed a compilation error when building with latest devkitA64 update\\n\\n0.6.3\\n\\nThis is the twelfth official release of Mission Control\\n\\nJust a quick release to support Atmosphère 1.2.5 and the new 13.2.0 firmware. Support for the Hyperkin Scout SNES controller was also added.\\n\\nNew users landing on this release page should first check out the readme on the main project page for the official project documentation. There you can find installation and usage instructions along with an FAQ section that will answer most of your questions.\\n\\nAtmosphère >= 1.2.5 is required to run this release.\\n\\n0.6.2\\n\\nThis is the eleventh official release of Mission Control\\n\\nThis is mostly a bugfix release to address the rumble issues that have surfaced since recent Atmosphère releases. Support for the new N64 and Sega Genesis/Megadrive Nintendo Switch Online controllers has also been added. See below for the full changelog.\\n\\nAdded support for new N64 and Sega Genesis/Megadrive Nintendo Switch Online controllers\\nFixed an issue where controllers would vibrate non-stop under certain conditions after connecting to the console\\nFixed an issue where rumble output was missing from certain games\\nFixed an issue where Crash Team Racing Nitro-Fueled and Crash Bandicoot N. Sane Trilogy games would output a constant stream of random rumble data\\nDisabled sending SetTsi command to Ouya controller (fixes disconnect issue)\\nChanged the order of initialisation commands for Sony controllers to reduce perceived delay when connecting to the console\\nVarious improvements to the accuracy of controller subcommand handling were added\\n\\nAtmosphère >= 1.2.0 is required to run this release.\\n\\n0.6.1\\n\\nThis is the tenth official release of Mission Control.\\n\\nJust a small update to add support for the latest HOS (13.1.0) and Atmosphère (1.2.1) versions, and a couple of minor fixes. See below for the full changelog.\\n\\nValid analog stick deadzone parameters are now stored in virtual SPI flash file for each controller. This resolves an issue reported by several users where some controllers were experiencing analog stick drift even after calibration due to incorrect deadzone parameters being applied. Please delete the controller entries under sdmc:/config/MissionControl/controllers/ so that these files can be recreated with the correct parameters. Note that you will need to redo any user calibrations after deleting these entries.\\n\\nSupport for manually disabling a vendor command (SetTsi) for incompatible controllers has been added. Allowing the console to send the command to such controllers causes them to be disconnected shortly after connecting. In most cases, sending of this command can be disabled in code after the incompatibility has been reported. Some incompatible third-party controllers, however, are indistinguishable from the originals that do support the command and must be flagged manually. To do so, a blank file settsi_disable.flag can be created under the directory for a specific controller under sdmc:/config/MissionControl/controllers/<controller address>. Note that this command is used for managing bandwidth between bluetooth devices and also the Wifi chip. It is therefore desirable to have the console send it where possible and should only be disabled where absolutely necessary.\\n\\nNew users landing on this release page should first check out the readme on the main project page for the official project documentation. There you can find installation and usage instructions along with an FAQ section that will answer most of your questions.\\n\\nAtmosphère >= 1.2.0 is required to run this release.\\n\\n0.6.0\\n\\nThis is the ninth official release of Mission Control\\n\\nThis release brings full support for firmware 13.0.0, along with a few minor additions and bugfixes. See the changelog below for details.\\n\\nNew users landing on this release page should first check out the readme on the main project page for the official project documentation. There you can find installation and usage instructions along with an FAQ section that will answer most of your questions.\\n\\nNote: 13.0.0 firmware made changes to the system to facilitate bluetooth audio support. While I have updated Mission Control to support the changes that concern hid devices, it's possible that there are issues that could arise from untested scenarios involving audio devices. If you notice any strange behaviour with audio devices that only occurs with mission control installed, please open an issue on the issue tracker.\\n\\nAtmosphère >= 1.1.0 is required to run this release.\\n\\n0.5.0\\n\\nhttps://github.com/ndeadly/MissionControl/releases/tag/v0.5.0\\n\\n0.5.0-alpha.4\\n\\nOnce again, this is the same as the previous pre-release, recompiled to work with the latest atmosphere and HOS (0.19.4 and 12.0.3)\\n\\nThis release incorporates updates made to libstratosphere since the previous release that relax version checks, meaning that these updates to Mission Control for each minor Atmosphere release should no longer be required.\\n\\n0.5.0-alpha.3\\n\\nThis is the same as the previous pre-release, recompiled to work with atmosphere 0.19.3 on 12.0.2\\n\\n0.5.0-alpha.2\\n\\nThis is the same as the original pre-release, updated to work with atmosphere 0.19.2\\n\\n0.5.0-alpha\\n\\nNOTE: the new 12.0.0 update made a lot of changes to the bluetooth service under the hood that have broken various things in Mission Control. This is an alpha release intended to appease the masses with preliminary support for HOS 12.0.0/Atmosphere 0.19.x until I find the time to look at it properly. While it should work as usual on firmwares prior to 12.0.0, controller pairing is currently broken for many controllers on the latest firmware. Controllers already paired to the console prior to updating should connect and work as expected. There are likely to be other issues waiting to be discovered (please report them if you encounter any!)\\nThis release brings partial support for the new 12.0.0 firmware, some new controllers and handful of new features and improvements including a global module config .ini, spoofing name and address of the host Bluetooth adapter, and maybe most notably rumble support (finally!)\\n\\nRumble support is available for the major console controllers from Nintendo, Microsoft and Sony and is enabled by default. Support for other controllers can be added at request if you can find me information about the output report format for your controller. Anyone know of a newbie-friendly way to dump an HID report descriptor?\\nPlease note that while rumble works without issue for the supported controllers, it is considered a work in progress with room for improvement. Do not expect the vibrations to be perfect reproductions of the HD rumble found in Switch controllers. It can be disabled globally via the config ini file if you don't like it. This will not affect official Switch controllers.\\n\\nA template for the config .ini file will be installed to /atmosphere/config_templates/missioncontrol.ini. To modify the default module settings, copy the template to /atmosphere/config/missioncontrol.ini and uncomment/modify any settings you want to change. The file is only parsed on startup, so any changes you make will require a reboot to take effect. Currently there is only a small set of configuration settings, but this will be expanded upon in future releases.\\n\\n0.4.1\\n\\nThis is the sixth official release of MissionControl.\\n\\nThis is just a quick update to support the new 11.0.1 firmware update, along with a couple of included bugfixes. See below for the full changelog.\\n\\nNew users landing on this release page should first check out the readme on the main project page for the official project documentation. There you can find installation and usage instructions along with an FAQ section that will answer most of your questions.\\n\\nIMPORTANT: Atmosphère >= 0.16.1 is required to run this release. Using an older Atmosphère version will cause MissionControl to crash the system on boot.\\n\\nChangelog:\\nUpdated to support 11.0.1 firmware/Atmosphere 0.16.1\\nFixed an issue where some official Nintendo controllers with L and R variants (eg. NES Online Controller) had their inputs ignored due to not being identified correctly.\\nFixed a regression that caused paired controller information from the btm service to be truncated past the first entry. This caused controllers to be missing from the Search for Controllers screen, and in some cases could lead to repeated pairing notifications upon startup/wakeup and database full dialogs being shown.\\n\\n0.4.0\\n\\nThis is the fifth official release of MissionControl.\\n\\nThis release adds compatibility with the new 11.0.0 firmware update, support for new controllers, and some minor fixes and improvements. See below for the full changelog.\\n\\nNew users landing on this release page should first check out the readme on the main project page for the official project documentation. Most of your questions will be already answered there.\\n\\nOnce again, thanks to all the users that requested, helped identify and test new controllers.\\n\\nIMPORTANT: Atmosphère >= 0.16.0 is required to run this release. Using an older Atmosphère version will cause MissionControl to crash the system on boot.\\n\\nChangelog:\\nAdded support for 11.0.0 firmware\\nAdded support for the following controllers:\\nSony Dualsense Controller*\\nSteelseries Nimbus\\nRazer Serval\\nMad-Catz C.T.R.L.R\\nPowerA Moga Pro\\nipega 9017s\\nMocute 050\\nFixed incorrect button mapping for 8bitdo zero controller as reported by users\\nAdded correct hardware ID for recognition of Gamesir G3s controller in Android mode\\nAdded unique Dualshock4 lightbar colours for players 5-8 (P5=cyan, P6=orange, P7=yellow, P8=purple)\\nAdded toolbox.json file for compatibility with ovl-sysmodules and Hekate/Kosmos Toolbox (thanks Borrajo)\\n*Only basic Dualsense button inputs are supported for now. The controller hasn't been fully reverse engineered yet and I don't own one to test out other features properly.\\n\\n0.3.0\\n\\nThis is the fourth official release of MissionControl.\\n\\nThis release fixes a critical bug in the setting of thread priorities, reworks the way that controller inputs were being handled and adds support for a handful of new controllers, amongst other things. See below for the full changelog.\\n\\nNew users landing on this release page should first check out the readme on the main project page. Most of your questions will be already answered there.\\n\\nThanks again to all the users that requested and helped identify and test new controllers.\\nAlso thanks to peteruk for sending me an icon to use for btdb.nro\\n\\nIMPORTANT: Atmosphère >=0.14.2 is required to run this release of MissionControl. Older Atmosphere versions will cause the console to hang or crash during boot.\\nUsers upgrading from version 0.1.0 of MissionControl are also advised to wipe their pairing database and re-pair controllers running 0.2.0 or greater. Failure to wipe the old entries may result in non-switch controllers being detected incorrectly.\\n\\nChangelog\\nAdded support for the following controllers\\nNVidia shield controller\\nTaTaCon (Taiko drum) Wii extension controller\\n8bitdo zero\\nGameSir G4s\\nipega 9076, 9078, 9087\\nPowerA Moga Hero\\nPowerA Moga Pro 2\\nFixed an issue where threads were being assigned lower than intended priorities. This caused the game Hades to freeze at the loading screen when wifi was disabled, and possibly other unreported issues due to conflicting threads.\\nChanged the way that controller input reports are handled. State is now stored for each controller and updated with each incoming report. This should fix several cases where controllers could register false button presses/stick movements.\\nUnrecognised controllers now show up as connected to the console after successful pairing (may require a button press before the console sees the controller). These will display with red coloured buttons in the Controllers menu to indicate they are not being mapped. This should help eliminate some of the confusion between paired/connected state experienced by users requesting controller support.\\nAdded the button combos MINUS + DPAD_DOWN and MINUS + DPAD_UP to act as HOME and CAPTURE buttons respectively, to act as a fallback for controllers where these buttons can't be mapped.\\nReduced the brightness of Dualshock4 controller lightbar by 50%.\\nbtdb.nro now has an option to clear the controller pairing database\\n\\n0.2.1\\n\\nAdded support for firmware 10.2.0\\nFixed a bug with the conversion of WiiU analog stick data that could cause extreme values in X and Y to wrap around to the opposite side in some controllers.\\nAdded support for the following controllers\\nSteelseries Free\\nGameSir G3s\\nHori Onyx"
}